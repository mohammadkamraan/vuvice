(function(t,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],s):(t=typeof globalThis<"u"?globalThis:t||self,s(t.vuvice={},t.Vue))})(this,function(t,s){"use strict";var p=Object.defineProperty;var _=(t,s,u)=>s in t?p(t,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[s]=u;var f=(t,s,u)=>(_(t,typeof s!="symbol"?s+"":s,u),u);class u{constructor(){f(this,"observers",[])}attach(e){this.observers.push(e)}detach(e){this.observers=this.observers.filter(a=>a!==e)}notify(){for(const e of this.observers)e.update(this)}}const l=new Set,c=new Map;function v(){const r=s.ref();let e=null;function a(i){e=i}const b=s.computed(()=>r.value);function d(i){if(!l.has(i)){let n=function(o){r.value=o};c.set(i,n),e==null||e.attach(n)}l.add(i)}function h(i){const n=c.get(i);n&&(e==null||e.detach(n),c.delete(i))}return{getValue:b,attach:d,detach:h,setObserver:a,updaters:c}}function y(r,e){return function(b,d,h){const i=v();function n(o){return i.setObserver(this[r]),i.attach(o),{value:i.updaters.has(o)?e(i.getValue.value):this[r].getValue(),unSubscribe:i.detach}}h.value=n}}class S{constructor(e){f(this,"_value");f(this,"observers",[]);this.next(e)}attach(e){this.observers.push(e)}detach(e){this.observers=this.observers.filter(a=>a!==e)}notify(){for(const e of this.observers)typeof e=="function"?e(this._value):e.update(this._value)}next(e){typeof e=="function"?this._value=e(this._value):this._value=e,this.notify()}getValue(){return this._value}}t.AbstractSubject=u,t.BehaviorSubject=S,t.UiSync=y,t.useUiSync=v,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
